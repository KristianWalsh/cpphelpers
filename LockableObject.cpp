
#include "LockableObject.hpp"

LockableObject::LockableObject( )
{
  
  pthread_mutex_init(&lock, 0L);
}

/////////////////////////////////////////////////////////////////////////////////////////////

LockableObject::~LockableObject( )
{   
  pthread_mutex_destroy(&lock);
}

/////////////////////////////////////////////////////////////////////////////////////////////

Lock::Lock( LockableObject* o )
: lockedObject( o )
{
  pthread_mutex_lock( &(lockedObject->lock) );
}

/////////////////////////////////////////////////////////////////////////////////////////////

Lock::~Lock( )
{
  pthread_mutex_unlock( &(lockedObject->lock) );
}

